define(function(){return animate=function(a,b,c){function d(){var c=!0;for(var d in b){var f=b[d],g=parseInt(e(a)[d]);if("opacity"==d&&(g=100*e(a)[d]),g!=f)return c=!1,c}return a.isMoving=!1,c}function e(a){return a.currentStyle?a.currentStyle:getComputedStyle(a)}if(!a.isMoving)for(var f in a.isMoving=!0,b)(function(f){var g=b[f];a[f+"-timer"]=setInterval(function(){var b=Math.floor,h=Math.ceil;if("opacity"==f){var i=100*parseFloat(e(a)[f]),j=(g-i)/7;j=0<j?h(j):b(j),a.style.opacity=(i+j)/100,a.style.filter="alpha(opacity="+(i+j)+")",a.style.opacity==g/100&&(clearInterval(a["opacity-timer"]),d()&&(c?c():""))}else{var i=parseInt(e(a)[f]),j=(g-i)/7;j=0<j?h(j):b(j),a.style[f]=i+j+"px"}parseInt(e(a)[f])==g&&(clearInterval(a[f+"-timer"]),d()&&(c?c():""))},30)})(f)}});